function CourseDetail(){}CourseDetail.prototype.initPlayer=function(){var e=$("#video-info"),t=e.attr("data-video-url"),o=e.attr("data-cover-url"),n=cyberplayer("playercontainer").setup({width:"100%",height:"100%",file:t,image:o,autostart:!1,tokenEncrypt:"true",repeat:!1,stretching:"uniform",volume:100,ak:"ff914c1b266c4cbbbbd86b457bc10cc4"});n.on("beforePlay",function(o){/m3u8/.test(o.file)&&xfzajax.get({url:"/course/course_token/",data:{video:t},success:function(e){if(200===e.code){var t=e.data.token;n.setToken(o.file,t)}else alert("token错误!")},fail:function(e){console.log(e)}})})},CourseDetail.prototype.run=function(){this.initPlayer()},$(function(){(new CourseDetail).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvdXJzZV9kZXRhaWwuanMiXSwibmFtZXMiOlsiQ291cnNlRGV0YWlsIiwicHJvdG90eXBlIiwiaW5pdFBsYXllciIsInZpZGVvSW5mb1NwYW4iLCIkIiwidmlkZW9fdXJsIiwiYXR0ciIsImNvdmVyX3VybCIsIm15UGxheWVyIiwiY3liZXJwbGF5ZXIiLCJzZXR1cCIsIndpZHRoIiwiaGVpZ2h0IiwiZmlsZSIsImltYWdlIiwiYXV0b3N0YXJ0IiwidG9rZW5FbmNyeXB0IiwicmVwZWF0Iiwic3RyZXRjaGluZyIsInZvbHVtZSIsImFrIiwib24iLCJlIiwidGVzdCIsInhmemFqYXgiLCJnZXQiLCJ1cmwiLCJkYXRhIiwidmlkZW8iLCJzdWNjZXNzIiwicmVzdWx0IiwidG9rZW4iLCJzZXRUb2tlbiIsImFsZXJ0IiwiZmFpbCIsImVycm9yIiwiY29uc29sZSIsImxvZyIsInJ1biIsInRoaXMiXSwibWFwcGluZ3MiOiJBQUFBLFNBQVNBLGdCQUlUQSxhQUFhQyxVQUFVQyxXQUFhLFdBQ2hDLElBQUlDLEVBQWdCQyxFQUFFLGVBQ2xCQyxFQUFZRixFQUFjRyxLQUFLLGtCQUMvQkMsRUFBWUosRUFBY0csS0FBSyxrQkFHL0JFLEVBQVdDLFlBQVksbUJBQW1CQyxNQUFNLENBQ2hEQyxNQUFPLE9BQ1BDLE9BQVEsT0FDUkMsS0FBTVIsRUFDTlMsTUFBT1AsRUFDUFEsV0FBVSxFQUNWQyxhQUFjLE9BQ2RDLFFBQVEsRUFDUkMsV0FBWSxVQUNaQyxPQUFRLElBQ1JDLEdBQUkscUNBRVJaLEVBQVNhLEdBQUcsYUFBYyxTQUFVQyxHQUMzQixPQUFPQyxLQUFLRCxFQUFFVCxPQUduQlcsUUFBUUMsSUFBSSxDQUNSQyxJQUFPLHdCQUNQQyxLQUFRLENBQ0pDLE1BQVN2QixHQUVid0IsUUFBVyxTQUFVQyxHQUNqQixHQUF1QixNQUFuQkEsRUFBYSxLQUFXLENBQ3hCLElBQUlDLEVBQVFELEVBQWEsS0FBUyxNQUNsQ3RCLEVBQVN3QixTQUFTVixFQUFFVCxLQUFNa0IsUUFFMUJFLE1BQU0sYUFHZEMsS0FBUSxTQUFVQyxHQUNkQyxRQUFRQyxJQUFJRixTQU01Qm5DLGFBQWFDLFVBQVVxQyxJQUFNLFdBQ3pCQyxLQUFLckMsY0FJVEUsRUFBRSxZQUNxQixJQUFJSixjQUNWc0MiLCJmaWxlIjoiY291cnNlX2RldGFpbC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBDb3Vyc2VEZXRhaWwoKSB7XHJcblxyXG59XHJcblxyXG5Db3Vyc2VEZXRhaWwucHJvdG90eXBlLmluaXRQbGF5ZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgdmlkZW9JbmZvU3BhbiA9ICQoXCIjdmlkZW8taW5mb1wiKTtcclxuICAgIHZhciB2aWRlb191cmwgPSB2aWRlb0luZm9TcGFuLmF0dHIoXCJkYXRhLXZpZGVvLXVybFwiKTtcclxuICAgIHZhciBjb3Zlcl91cmwgPSB2aWRlb0luZm9TcGFuLmF0dHIoXCJkYXRhLWNvdmVyLXVybFwiKTtcclxuXHJcblxyXG4gICAgdmFyIG15UGxheWVyID0gY3liZXJwbGF5ZXIoXCJwbGF5ZXJjb250YWluZXJcIikuc2V0dXAoe1xyXG4gICAgICAgIHdpZHRoOiAnMTAwJScsXHJcbiAgICAgICAgaGVpZ2h0OiAnMTAwJScsXHJcbiAgICAgICAgZmlsZTogdmlkZW9fdXJsLFxyXG4gICAgICAgIGltYWdlOiBjb3Zlcl91cmwsXHJcbiAgICAgICAgYXV0b3N0YXJ0OmZhbHNlLFxyXG4gICAgICAgIHRva2VuRW5jcnlwdDogXCJ0cnVlXCIsXHJcbiAgICAgICAgcmVwZWF0OiBmYWxzZSxcclxuICAgICAgICBzdHJldGNoaW5nOiBcInVuaWZvcm1cIixcclxuICAgICAgICB2b2x1bWU6IDEwMCxcclxuICAgICAgICBhazogJ2ZmOTE0YzFiMjY2YzRjYmJiYmQ4NmI0NTdiYzEwY2M0JyxcclxuICAgIH0pO1xyXG4gICAgbXlQbGF5ZXIub24oJ2JlZm9yZVBsYXknLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGlmICghL20zdTgvLnRlc3QoZS5maWxlKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHhmemFqYXguZ2V0KHtcclxuICAgICAgICAgICAgJ3VybCc6ICcvY291cnNlL2NvdXJzZV90b2tlbi8nLFxyXG4gICAgICAgICAgICAnZGF0YSc6IHtcclxuICAgICAgICAgICAgICAgICd2aWRlbyc6IHZpZGVvX3VybFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRva2VuID0gcmVzdWx0WydkYXRhJ11bJ3Rva2VuJ107XHJcbiAgICAgICAgICAgICAgICAgICAgbXlQbGF5ZXIuc2V0VG9rZW4oZS5maWxlLCB0b2tlbik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KCd0b2tlbumUmeivryEnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgJ2ZhaWwnOiBmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcbn07XHJcblxyXG5Db3Vyc2VEZXRhaWwucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMuaW5pdFBsYXllcigpO1xyXG59O1xyXG5cclxuXHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGNvdXJzZURldGFpbCA9IG5ldyBDb3Vyc2VEZXRhaWwoKTtcclxuICAgIGNvdXJzZURldGFpbC5ydW4oKTtcclxufSk7Il19
